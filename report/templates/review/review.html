{% extends 'base.html'%} 

{% block content %}
  {% if user.is_superuser %} 
   <div class="col-lg-12">
   <div class="card">
   <div class="card-header d-flex align-items-center">
     <h3 class="h4">Performance Review</h3>
   </div>
  <div class="card-body">
  	
      <form method="post" class="form-horizontal">
      {% csrf_token %}
      {% if form.errors %}
            {% for field in form %}
                {% for error in field.errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}
	    <div class="form-group row"><label for="id_Name" class="col-sm-2 form-control-label">Name</label><div class="col-sm-3"> <input type="text" readonly="true" name="Name" class="form-control"  id="id_Name" value="{{data.EmpName}}"></div></div>
	    <div class="form-group row"><label for="id_EmpID" class="col-sm-2 form-control-label">EmpID</label><div class="col-sm-3"> <input type="number" readonly="true" name="EmpID" class="form-control" id="id_EmpID" value="{{data.Empid}}"></div></div>
	    <div class="form-group row"><label for="id_Attitude" class="col-sm-2 form-control-label">Attitude</label><div class="col-sm-3"> <input type="number" min="1" max="5"  step="any" name="Attitude" class="form-control" required id="id_Attitude" ></div></div>
	    <div class="form-group row"><label for="id_TaskInterpretation" class="col-sm-2 form-control-label">Task Interpretation</label><div class="col-sm-3"> <input type="number" min="1" max="5" step="any" name="TaskInterpretation" class="form-control" required id="id_TaskInterpretation"></div></div>
	    <div class="form-group row"><label for="id_TaskUnderstanding" class="col-sm-2 form-control-label">Task Understanding</label><div class="col-sm-3"> <input type="number" name="TaskUnderstanding" min="1" max="5" step="any" class="form-control" required id="id_TaskUnderstanding"></div></div>
	    <div class="form-group row"><label for="id_Approach" class="col-sm-2 form-control-label">Approach</label><div class="col-sm-3"> <input type="number" min="1" max="5" step="any" name="Approach" class="form-control" required id="id_Approach"></div></div>
	    <div class="form-group row"><label for="id_Communication" class="col-sm-2 form-control-label">Communication</label><div class="col-sm-3"> <input type="number" min="1" max="5" step="any" name="Communication" class="form-control" required id="id_Communication"></div></div>
	    <div class="form-group row"><label for="id_Execution" class="col-sm-2 form-control-label">Execution</label><div class="col-sm-3"> <input type="number" step="any" min="1" max="5" name="Execution" class="form-control" required id="id_Execution"></div></div>
	    <div class="form-group row"><label for="id_Commitment" class="col-sm-2 form-control-label">Commitment</label><div class="col-sm-3"> <input type="number" step="any" min="1" max="5" name="Commitment" class="form-control" required id="id_Commitment"></div></div>
	    <div class="form-group row"><label for="id_Fulfillment" class="col-sm-2 form-control-label">Fulfillment</label><div class="col-sm-3"> <input type="number" step="any" min="1" max="5" name="Fulfillment" class="form-control" required id="id_Fulfillment"></div></div>
	    <div class="form-group row"><label for="id_Performance" class="col-sm-2 form-control-label">Performance</label><div class="col-sm-3"> <input type="number" step="any" min="1" max="5" name="Performance" class="form-control" required id="id_Performance" onfocus="add_number()" readonly="true"></div></div>
	    <div class="form-group row"><label for="id_Comments" class="col-sm-2 form-control-label">Comments</label><div class="col-sm-3"> <input type="text" name="Comments" class="form-control" required  id="id_Comments"></div></div>
	        
         	<tr><td><button type="submit"  class="btn btn-success">Create</button></td>
         	<td><a href="/reviewlist/{{data.Empid}}" class="btn btn-primary btn-md">Previous Reviews</a></td>
         	</tr>
        </form>
    </div>
    <div class="col-sm-9 col-md-6 col-lg-2 ">
    	<table class="table align-items-center">
	    <thead>
	      <tr>
	        <th>Score</th>
	        <th>Definition</th>
	      </tr>
	    </thead>
	    <tbody>
	      <tr><td>1</td><td>Very Good</td></tr>
	      <tr><td>2</td><td>Good</td></tr>
	      <tr><td>3</td><td>Average</td></tr>
	      <tr><td>4</td><td>Poor</td></tr>
	      <tr><td>5</td><td>Very Poor</td></tr></tbody></table>
    </div></div></div>
    <script>
	    function add_number() {
	        var Attitude  = parseFloat(document.getElementById("id_Attitude").value);
	        var TaskInter = parseFloat(document.getElementById("id_TaskInterpretation").value);
	        var Task      = parseFloat(document.getElementById("id_TaskUnderstanding").value);
	        var Approach  = parseFloat(document.getElementById("id_Approach").value);
	        var Commu	  = parseFloat(document.getElementById("id_Communication").value);
	        var Execution = parseFloat(document.getElementById("id_Execution").value);
	        var Commit    = parseFloat(document.getElementById("id_Commitment").value);
	        var Fulfill   = parseFloat(document.getElementById("id_Fulfillment").value);
	        var result = (Attitude+TaskInter+Task+Approach+Commu+Execution+Commit+Fulfill)/8;
		var result = Math.round(result * 100) / 100
	        document.getElementById("id_Performance").value = result;
	    }
	    </script>
	    
  {% elif user.is_active %}
    <h1>You are customer user</h1>
    {% else %}
<p> you are not superuser login as supper user to create users</p>
<p><a href="{% url 'login' %}">Log In </a></p>
{% endif %}
{%endblock%}

